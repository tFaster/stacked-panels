<div class="stacked-panel">
  <div class="stacked-panel-content"
       [@visibleHiddenContent]="{value: contentVisibleOrHidden$ | async, params: animationParams}">
    <ng-container *ngIf="isLoading && loadingInfoTemplate">
      <div class="stacked-panel-content-loading-overlay">
        <ng-template [ngTemplateOutlet]="loadingInfoTemplate"></ng-template>
      </div>
    </ng-container>
    <ng-container *ngIf="!isLoading">
      <ng-template [ngTemplateOutlet]="panel.bodyTemplate"
                   [ngTemplateOutletContext]="{$implicit: panelData$, controller: controller, panelId: panel.id, isVisible: isVisible}">
      </ng-template>
    </ng-container>
  </div>

</div>
